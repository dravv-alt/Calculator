<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=menu" />
<!--         
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Doto:wght,ROND@100..900,0..100&display=swap" rel="stylesheet">
         -->

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Nabla:EDPT,EHLT@0..200,0..24&display=swap" rel="stylesheet">
        
        <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Blaka+Hollow&display=swap" rel="stylesheet"> -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Revalia&display=swap" rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">

        <style>
            #Calc{
               font-family: 'Nabla', sans-serif;
                font-variation-settings: "EDPT" 100, "EHLT" 12;
            }
        
            /*#divide{
                font-size: 3rem;
            }
            #add{
                font-size: 3rem;
            }*/
        </style>
</head>
<body>
    <nav class=" bg-yellow-900 flex items-center px-5 justify-between z-5" id="navcloased">
        <h1>
            <!-- nothing -->
        </h1>  
            <h1 id="Calc" style="font-family:'Nabla';" class="text-3xl tracking-widest font-bold py-4">Calculator</h1>
        <h1>
            <!-- nothing -->
        </h1>
    </nav>
    <div class="fixed top-4 flex flex-col bg-black w-16 ml-4 h-64  text-center pt-2 rounded-xl shadow-lg shadow-black z-10" onclick="menu()">
        <span class="material-symbols-outlined text-white h-auto cursor-pointer">menu</span>

    </div>
        <div class="relative border-4 border-white bg-emerald-800 h-screen flex flex-col justify-center z-0">
            <!-- <div class="backdrop-blur-xl bg-white/10 border border-white/20 shadow-lg rounded-xl p-4">
    <p class="text-white text-center">I look like frosted glass!</p> -->
<!-- </div> -->

                    <input type="text" style="font-family:'Revalia';" readonly class=" bg-black border-4 border-gray-500 text-right text-yellow-500 text-3xl mx-auto w-1/2 h-24 p-2 rounded-xl" value=""  id="t1">
                    <div class="mx-auto w-1/2 h-96 grid grid-cols-4 grid-rows-5 border-white border-2 backdrop-blur-xl bg-white/10 border border-white/20 shadow-lg rounded-xl p-4">
                        <input type="button" style="font-family:'Orbitron';" value="(" id="brack-open" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="brackopen()"></input>
                        <input type="button" style="font-family:'Orbitron';" value=")" id="brack-close" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="brackclose()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="%" id="percentage" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="percent()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="AC" id="AllClear" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="AC()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="7" id="seven" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="seven()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="8" id="eight" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="eight()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="9" id="nine" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="nine()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="÷" id="divide" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="divide()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="4" id="four" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="four()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="5" id="five" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="five()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="6" id="six" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="six()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="×" id="multiply" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="multiply()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="1" id="one" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="one()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="2" id="two" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="two()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="3" id="three" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="three()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="-" id="sub" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="sub()"></input>        
                        <input type="button" style="font-family:'Orbitron';" value="0" id="zero" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="zero()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="." id="decimal" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="decimal()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="=" id="equal" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="equal()"></input>
                        <input type="button" style="font-family:'Orbitron';" value="+" id="add" class="text-2xl bg-black border-2 border-white p-2 text-yellow-400 rounded-lg hover:scale-110 duration:300 transition ease-in-out" onclick="add()"></input>
                    </div>

                </div> 
    <script>
        function brackopen(){document.getElementById("t1").value += "(";};
        function brackclose(){document.getElementById("t1").value += ")";};
        function percent(){ 
            document.getElementById("t1").value += "%"; 
            // expression = expression.replace(/%/g, "/100");  
        };
        function AC(){document.getElementById("t1").value = "   ";};
        function seven(){document.getElementById("t1").value += "7";};
        function eight(){document.getElementById("t1").value += "8";};
        function nine(){document.getElementById("t1").value += "9";};
        function divide(){document.getElementById("t1").value += "÷";};
        function four(){document.getElementById("t1").value += "4";};
        function five(){document.getElementById("t1").value += "5";};
        function six(){document.getElementById("t1").value += "6";};
        function multiply(){document.getElementById("t1").value += "×";};
        function one(){document.getElementById("t1").value += "1";};
        function two(){document.getElementById("t1").value += "2";};
        function three(){document.getElementById("t1").value += "3";};
        function sub(){document.getElementById("t1").value += "-";};
        function zero(){document.getElementById("t1").value += "0";};
        function decimal(){document.getElementById("t1").value += ".";};
        
        function equal(){
            // document.getElementById("t1").value += "=";
            var ans;
            ans = document.getElementById("t1").value 
            console.log(ans);

              let expression = document.getElementById("t1").value;
                expression = expression.replace(/×/g, "*").replace(/÷/g, "/");
                const match = expression.match(/(\d+(?:\.\d+)?)([+\-])(\d+(?:\.\d+)?)%$/);


                if (match) {
                    let base = parseFloat(match[1]);
                    let operator = (match[2]);
                    let percent = parseFloat(match[3]);

                    let result;
                    if(operator==="+"){
                        result = base + (base * (percent / 100));
                    }else if(operator==="-"){
                        result = base - (base * (percent / 100));
                    }
                        document.getElementById("t1").value = result.toFixed(5).replace(/\.?0+$/, "");
                        console.log(ans+"="+result);
                    return;
                    }else{
                          expression = expression.replace(/(\d+(?:\.\d+)?)%/g, "($1/100)");
                    }


                try {
                document.getElementById("t1").value = eval(expression);
                } catch {
                document.getElementById("t1").value = "Error";
                }
        };  

        function add(){document.getElementById("t1").value += "+";};

        // menu(){
        //     const navclosed = document.getElementById("navclosed");
        //     navclosed.style.ba


        // }

    </script>


</body>
</html>
